{{ $url := .Page.Permalink }}
{{ $actual_language := .Site.Language.Lang }}
<div class="relative hidden lg:block z-10 bg-nav-meta text-xs text-white font-semibold">
    <div class="max-w-screen-xl mx-auto flex items-center justify-between px-8">
        <div>Taiwan Employment Gold Card Office</div>
        <div class="flex items-center">
            {{ partial "icon" (dict "name" "search" "size" "3") }}
            <span class="uppercase pl-1">
                Search
            </span>
        </div>

        <div class="flex items-center uppercase" x-data="taLanguage()" x-init="init()">
            <div>Change language:</div>
            {{ range .Site.Languages }}
            {{ if lt .Weight 10 }}
            {{ $url = replace $url $actual_language .Lang }}
            {{ if eq $actual_language .Lang }}
            <a
                href="{{ $url }}"
                class="block bg-nav-dark font-bold px-2 py-2 mx-1"
                @click.prevent="switchLanguage('{{ .Lang }}')"
                title="Change Language"
            >
            {{ else }}
            <a
                href="{{ $url }}"
                class="block px-2 py-2 mx-1"
                @click.prevent="switchLanguage('{{ .Lang }}')"
                title="Change Language"
            >
            {{ end }}
                {{ .LanguageName }}
            </a>
            {{ end }}
            {{ end }}
        </div>
    </div>
</div>
{{ if eq .Page.IsHome true }}
<div class="relative z-10 bg-nav-meta bg-opacity-50" x-data="taNavigation()" x-init="init()">
{{ else }}
<div class="relative z-10 bg-nav-start bg-gradient-to-b from-nav-start to-nav-end shadow-xl" x-data="taNavigation()" x-init="init()">
{{ end }}
    <div class="max-w-screen-xl flex justify-between mx-auto px-8">
        <a href="/{{ .Site.Language.Lang }}/" class="block w-1/3 sm:w-1/5 lg:w-1/6 max-w-xs py-4 lg:py-6">
            <img src="/img/taiwan-gold-card-logo.png" class="w-full" alt="" />
        </a>
        <ul class="flex-grow hidden lg:flex justify-between items-center text-white text-lg font-semibold ml-20">
            {{ partial "navigation-menu"  (dict "content" . )  }}
        </ul>
        <div class="flex lg:hidden text-white">
            <button type="button" x-on:click="toggleModal()" class="px-8 -mr-8" >
                {{ partial "icon" (dict "name" "bars" "size" "8") }}
            </button>
        </div>
    </div>
    <div class="fixed inset-0 z-50" x-show="modal" x-cloak>
        <div class="absolute inset-0 w-full h-full bg-white bg-opacity-75 backdrop-blur-2" x-on:click="toggleModal()"></div>
        <div class="absolute inset-y-0 right-0 w-3/4 h-full bg-nav-meta">
            <button type="button" x-on:click="toggleModal()" class="absolute top-0 right-0 text-white px-8 py-4" >
                {{ partial "icon" (dict "name" "times" "size" "10") }}
            </button>
            <div class="flex flex-col">
                <a href="/{{ .Site.Language.Lang }}/" class="block py-10 pl-12">
                    <img src="/img/taiwan-gold-card-logo.png" class="w-1/2" alt="" />
                </a>
                <ul class="flex-grow flex flex-col justify-around text-white text-2xl font-medium">
                    
                    {{ partial "navigation-menu"  (dict "content" . "scroll" false ) }}
                    
                    <!-- <li class="bg-yellow-400 self-stretch flex items-center text-black font-bold">
                        <a href="/{{ .Site.Language.Lang }}/about/" class="pl-12 py-6">Gold Card</a>
                    </li>
                    <li>
                        <a href="/{{ .Site.Language.Lang }}/faq/" class="block pl-12 py-6">FAQ</a>
                    </li>
                    <li>
                        <a href="/{{ .Site.Language.Lang }}/why-taiwan/" class="block pl-12 py-6">Why Taiwan</a>
                    </li>
                    <li>
                        <a href="/{{ .Site.Language.Lang }}/single/" class="block pl-12 py-6">Events & News</a>
                    </li>
                    <li>
                        <a href="/{{ .Site.Language.Lang }}/single/" class="block pl-12 py-6">Resources</a>
                    </li> -->
                </ul>
            </div>
            
        </div>
    </div>
    <div class="fixed inset-x-0 top-0 bg-nav-start shadow-xl px-8" x-show="scroll">
        <div class="max-w-screen-xl flex justify-between mx-auto px-8">
            <a href="/{{ .Site.Language.Lang }}/" class="block w-1/3 sm:w-1/5 lg:w-1/6 max-w-xs py-4 lg:py-2">
                <img src="/img/taiwan-gold-card-logo.png" class="w-full" alt="" />
            </a>
            <ul class="flex-grow hidden lg:flex justify-between items-center text-white text-base font-semibold ml-20">
                {{ partial "navigation-menu"  (dict "content" . "scroll" true ) }}
                {{/*  <li class="bg-yellow-400 self-stretch flex items-center text-black font-bold">
                    <a href="/{{ .Site.Language.Lang }}/about/" class="px-4">Gold Card</a>
                </li>
                <li>
                    <a href="/{{ .Site.Language.Lang }}/faq/" class="px-4">FAQ</a>
                </li>
                <li>
                    <a href="/{{ .Site.Language.Lang }}/why-taiwan/" class="px-4">Why Taiwan</a>
                </li>
                <li>
                    <a href="/{{ .Site.Language.Lang }}/single/" class="px-4">Events & News</a>
                </li>
                <li>
                    <a href="/{{ .Site.Language.Lang }}/single/" class="px-4">Resources</a>
                </li>  */}}
            </ul>
            <div class="flex lg:hidden text-white">
                <button type="button" x-on:click="toggleModal()" class="px-8 -mr-8" >
                    {{ partial "icon" (dict "name" "bars" "size" "8") }}
                </button>
            </div>
        </div>
    </div>
</div>
