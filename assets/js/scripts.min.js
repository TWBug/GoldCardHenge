"use strict";function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function handleResize(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px")),document.documentElement.style.setProperty("--navscroll",.5*window.innerHeight)}window.languageDetection={language:"en",message:"Sorry, it looks like your browser storage has been corrupted. Please clear your storage by going to Tools -> Clear Recent History -> Cookies and set time range to 'Everything'. This will remove the corrupted browser storage across all sites.",init:function(){this.language=this.getStorage("language"),null!==this.language?!1===this.checkValidLanguage(this.language)&&(this.language="en",this.setStorage("language",this.language)):this.language=this.getBrowserLanguage();var e=location.pathname.substring(1,3);return e!==this.language&&this.redirect(e),this.language},getBrowserLanguage:function(){var e=(navigator.language||navigator.userLanguage).split("-")[0];return!1===checkValidLanguage(e)&&(e="en"),this.setStorage("language",e),e},setStorage:function(e,t){try{return localStorage.setItem(e,t),!0}catch(n){return"NS_ERROR_FILE_CORRUPTED"==n.name&&alert(this.message),this.setCookie(e,t),!1}},getStorage:function(e){try{return localStorage.getItem(e)}catch(t){return"NS_ERROR_FILE_CORRUPTED"==t.name&&alert(this.message),this.getCookie(e)}},redirect:function(e){var t=location.pathname.replace(e,this.language),n=location.origin+t;return!0===this.checkDestination(n)?window.location.href=t:window.location.href=location.origin+"/"+this.language+"/",!0},checkDestination:function(e){var t;return(t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).open("GET",e,!1),t.send(),404!==t.status},checkValidLanguage:function(e){return-1!==["en","zh"].indexOf(e)},setCookie:function(e,t){var n,r=new Date;r.setTime(r.getTime()+31104e6),n="; expires="+r.toUTCString(),document.cookie=e+"="+t+n+"; path=/"},getCookie:function(e){var t=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return t?t[2]:null}},window.taLanguage=function(){return{language:"en",default:{language:"en",supported:["en","zh"]},init:function(e){if(void 0!==e){("object"!==_typeof(e)||e instanceof Array)&&console.warn("Options are in wrong type - should be object - default options been used");for(var t=0,n=Object.entries(e);t<n.length;t++){var r=_slicedToArray(n[t],2),o=r[0],a=r[1];this.default[o]=a}}this.language=this.default.language},switchLanguage:function(e){if(-1===this.default.supported.indexOf(e))return!1;var t=location.pathname,n=t.substring(1,3),r=location.origin+t.replace(n,e);localStorage.setItem("language",e),this.language=e,!0===this.checkDestination(r)?window.location.href=r:window.location.href=location.origin+"/"+e+"/"},checkDestination:function(e){var t;return(t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).open("GET",e,!1),t.send(),404!==t.status}}},window.languageDetection.init(),window.addEventListener("resize",handleResize),handleResize();